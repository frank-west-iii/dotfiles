" General configurations
"------------------------

set relativenumber
set number        " hybrid relative and absolute for current line
set history=1000  " Remember last 1000 commands
set scrolloff=4   " Keep at least 4 lines below cursor
set expandtab     " Convert <tab> to spaces (2 or 4)
set tabstop=2     " Two spaces per tab as default
set shiftwidth=2  " then override with per filteype
set softtabstop=2 " specific settings via autocmd

" For reformatting files
nmap <leader>i magg=G`a

function PivotalUrl()
  let gitBranch=system("git rev-parse --abbrev-ref HEAD")
  let strippedBranch=substitute(l:gitBranch, "\n", "", "")
  let ticketNumber=substitute(l:strippedBranch, "\\D", "", "g")
  let l:foundline = search("Is there a card") " Can return 0 on no match
  let url="https://www.pivotaltracker.com/story/show/" . ticketNumber
  call setline(l:foundline, url)
endfunction

" vim:ft=vim
